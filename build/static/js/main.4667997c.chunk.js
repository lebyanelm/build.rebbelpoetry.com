(this["webpackJsonprebbelpoetry.com"]=this["webpackJsonprebbelpoetry.com"]||[]).push([[0],{147:function(e,t){},17:function(e,t,n){e.exports={PoemPageContainer:"PoemPage_PoemPageContainer__1CarM",PoemContents:"PoemPage_PoemContents__371ti",PoemSplitSides:"PoemPage_PoemSplitSides__3WBGw",PoemTextContainer:"PoemPage_PoemTextContainer__1JETF","is-guide":"PoemPage_is-guide__1x6C7",AnnotationsContainer:"PoemPage_AnnotationsContainer__Fzloh",SideButtons:"PoemPage_SideButtons__ugz1G",Eye:"PoemPage_Eye__3WqdT",Heart:"PoemPage_Heart__CcMDg",Bookmark:"PoemPage_Bookmark__2Sv34",PoemInformation:"PoemPage_PoemInformation__dnvQ3",PoemTags:"PoemPage_PoemTags__dFrKg",PoemActions:"PoemPage_PoemActions__3AxBr",CommentsSection:"PoemPage_CommentsSection__3FB5Z",CommentsSectionHeader:"PoemPage_CommentsSectionHeader__3L4d2",Name:"PoemPage_Name__oRO03"}},178:function(e,t,n){},179:function(e,t,n){},18:function(e,t,n){e.exports={ProfilePage:"PoetProfile_ProfilePage__3EHfO",PageContents:"PoetProfile_PageContents__r-u8b",ProfileAvatar:"PoetProfile_ProfileAvatar__2wH_s",ProfileName:"PoetProfile_ProfileName__pBmrO",Name:"PoetProfile_Name__3iNLf",ProfileBiography:"PoetProfile_ProfileBiography__2A4pG",ProfileHeaderButtons:"PoetProfile_ProfileHeaderButtons__dhG6E",ProfileStats:"PoetProfile_ProfileStats__3S3gE",PoetProfileContents:"PoetProfile_PoetProfileContents__J1aos",FollowButton:"PoetProfile_FollowButton__BT_KL"}},180:function(e,t,n){},182:function(e,t,n){"use strict";n.r(t);var o=n(1),a=n.n(o),s=n(66),i=n.n(s),c=(n(98),n.p+"static/media/logo.6597611f.svg"),r=n(43),l=n.n(r),d=n(12),u=n.n(d),j=n(13),b=n(4),m=n(3),h=n(0),p=a.a.createContext({}),f=function(e){var t=e.children,n=a.a.useState(),o=Object(m.a)(n,2),s=o[0],i=o[1];return Object(h.jsx)(p.Provider,{value:{userSession:s,setUserSession:i},children:t})},O=function(){return a.a.useContext(p)},x=a.a.createContext({}),_=function(e){var t=e.children,n=a.a.useState({state:!1,handler:function(){return null}}),o=Object(m.a)(n,2),s=o[0],i=o[1];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"backlight",style:{display:s.state?"block":"none"},onClick:function(){i({state:!1,handler:function(){return null}}),s.handler()}}),Object(h.jsx)(x.Provider,{value:{isBacklightVisible:s,setIsBacklightVisible:i},children:t})]})},v=n(32),g=n.n(v),P=function(e){var t=e.userSession,n=e.location,o=a.a.useState(!1),s=Object(m.a)(o,2),i=s[0],c=s[1],r=a.a.useContext(x).setIsBacklightVisible,l=O().setUserSession,d=Object(j.g)(),p=function(){c(!i),r({state:!i,handler:function(){c(!1)}})};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"dropdown-options-backlight"}),Object(h.jsx)("div",{className:"clickable",children:Object(h.jsxs)("div",{className:["navigation-item dropdown flex","/sign_in"===n.pathname||"/sign_up"===n.pathname?"active":"inactive"].join(" "),children:[Object(h.jsxs)("section",{onClick:function(){return p()},className:g.a.HeaderSectionName,children:[Object(h.jsx)("div",{className:"avatar small-avatar",style:{marginRight:"5px",backgroundImage:"url(".concat(t.display_photo,")")}}),Object(h.jsxs)("span",{className:g.a.RebbelName,children:[null===t||void 0===t?void 0:t.display_name," ",Object(h.jsx)("span",{className:g.a.RebbelStatus,"data-belt":""})]}),Object(h.jsx)(u.a,{style:{marginLeft:"5px",transform:"translateY(0px)"},name:"chevron-down"})]}),Object(h.jsxs)("div",{className:"dropdown-options",style:{display:i?"block":"none"},children:[Object(h.jsx)("section",{className:g.a.DropdownItemsHeader,children:Object(h.jsxs)("span",{to:"/poet/me",children:["Signed in as"," ",Object(h.jsxs)("b",{children:[null===t||void 0===t?void 0:t.display_name," (@",null===t||void 0===t?void 0:t.username,")"]})]})}),Object(h.jsxs)("section",{className:g.a.DropdownLinkItems,children:[Object(h.jsx)("a",{href:["/rebbels/@",null===t||void 0===t?void 0:t.username].join(""),children:"Your Profile"}),Object(h.jsx)("a",{href:"/collaborations",children:"Your Collaborations and Features"}),Object(h.jsx)("a",{href:"/your_drafts",children:"Your Unpublished Drafts"})]}),Object(h.jsxs)("section",{className:g.a.DropdownLinkItems,children:[Object(h.jsx)(b.b,{className:"",to:"/edit_profile",children:"Edit your profile"}),Object(h.jsx)(b.b,{className:g.a.SignOut,onClick:function(){l(null),localStorage.removeItem("AUTH_TOKEN"),d.push("/sign_in")},children:"Sign out"})]})]})]})})]})};P.defaultProps={};var y=P,N=function(){var e=Object(j.h)(),t=O().userSession;return Object(h.jsxs)("div",{className:l.a.HeaderContainer,children:[Object(h.jsxs)("a",{href:"https://patreon.com/@rebbelpoetry",target:"_blank",rel:"noreferrer",className:l.a.Banner,children:["We need your support to keep the site functional and available \u2014 Become a contributor",Object(h.jsx)(u.a,{name:"arrow-forward"})]}),Object(h.jsxs)("div",{className:l.a.Header,children:[Object(h.jsx)(b.b,{to:"/",className:l.a.HeaderBrandLogo,children:Object(h.jsx)("img",{src:c,alt:""})}),Object(h.jsxs)("section",{class:l.a.NavigationLinks,children:[t&&Object(h.jsx)(b.b,{to:"/new_poem",children:Object(h.jsx)("div",{className:["navigation-item","/new_poem"===e.pathname?"active":"inactive"].join(" "),children:"Publish New"})}),Object(h.jsx)(b.b,{to:"/discover",children:Object(h.jsx)("div",{className:["navigation-item","/discover"===e.pathname?"active":"inactive"].join(" "),children:"Discover"})}),Object(h.jsx)(b.b,{to:"/rebbels",children:Object(h.jsx)("div",{className:["navigation-item",e.pathname.includes("/rebbels")?"active":"inactive"].join(" "),children:"Rebbel Poets"})}),t&&Object(h.jsx)(b.b,{to:"/your_drafts",children:Object(h.jsx)("div",{className:["navigation-item","/your_drafts"===e.pathname?"active":"inactive"].join(" "),children:"Your Drafts"})}),Object(h.jsx)(b.b,{to:"/feeling_lucky",children:Object(h.jsx)("div",{className:["navigation-item","/feeling_lucky"===e.pathname?"active":"inactive"].join(" "),children:"Feeling Lucky"})}),Object(h.jsx)(b.b,{to:"/search",children:Object(h.jsx)("div",{className:["navigation-item","/search"===e.pathname?"active":"inactive"].join(" "),children:"Search"})})]}),Object(h.jsx)("div",{className:"flex-space"}),Object(h.jsxs)("section",{children:[!t&&Object(h.jsx)(b.b,{to:"/sign_up",children:Object(h.jsx)("div",{className:"navigation-item button",children:"Become a Rebbel"})}),t&&Object(h.jsx)(y,{userSession:t,location:e}),!t&&Object(h.jsx)(b.b,{to:"/sign_in",children:Object(h.jsx)("div",{className:["navigation-item","/sign_in"===e.pathname?"active":"inactive"].join(" "),children:"Sign In"})})]})]})]})},C=n(10),w=n(23),S=n(56),k=n(36),A=n(41),D=n(33),T=n.n(D),B=n(82),E=(o.Component,n(26)),I=n.n(E),L=n(5),F=n(9),R=Object(L.a)({APP_NAME:"Rebbel Poetry"},{ENV:"production",BACKEND:"https://apis.rebbelpoetry.com/api",FRONTEND:"https://rebbelpoetry.com"}),H={getPoemData:function(e){return new Promise((function(t,n){F.get([R.BACKEND,"poems",e].join("/")).end((function(e,o){H.respond(o,t,n)}))}))},getPoemAuthors:function(e){return new Promise((function(t,n){F.get([R.BACKEND,"authors",e].join("/")).end((function(e,o){H.respond(o,t,n)}))}))},getUnauthenticatedFeed:function(){return new Promise((function(e,t){F.get([R.BACKEND,"poems","feed"].join("/")).end((function(n,o){H.respond(o,e,t)}))}))},updateDraft:function(e,t){return new Promise((function(n,o){F.post([R.BACKEND,"drafts"].join("/")).send(Object(L.a)({},e)).set("Authorization",t).end((function(e,t){H.respond(t,n,o)}))}))},updatePoem:function(e,t,n){return new Promise((function(o,a){F.patch([R.BACKEND,"poems",t].join("/")).send(e).set("Authorization",n).end((function(e,t){H.respond(t,o,a)}))}))},likePoem:function(e,t){return console.log(e,t),new Promise((function(n,o){F.post([R.BACKEND,"poems",e,"react"].join("/")).set("Authorization",t).end((function(e,t){H.respond(t,n,o)}))}))},bookmarkPoem:function(e,t){return console.log(e,t),new Promise((function(n,o){F.post([R.BACKEND,"poems","bookmark"].join("/")).set("Authorization",t).send({pId:e}).end((function(e,t){H.respond(t,n,o)}))}))},deletePoem:function(e,t){return new Promise((function(n,o){F.delete([R.BACKEND,"poems",e].join("/")).set("Authorization",t).end((function(e,t){H.respond(t,n,o)}))}))},getDraft:function(e,t){return new Promise((function(n,o){F.get([R.BACKEND,"drafts",e].join("/")).set("Authorization",t).end((function(e,t){H.respond(t,n,o)}))}))},getTags:function(e,t){return new Promise((function(n,o){F.get([R.BACKEND,"tags",e.join()].join("/")).set("User-Track",t).end((function(e,t){H.respond(t,n,o)}))}))},uploadThumbnail:function(e,t){return new Promise((function(n,o){F.put([R.BACKEND,"assets","upload"].join("/")).set("Authorization",t).attach("file",e).end((function(e,t){H.respond(t,n,o)}))}))},publish:function(e,t,n){return new Promise((function(o,a){F.post([R.BACKEND,"publish",e.did].join("/")).set("Authorization",n).send({tags:t.split(","),is_anonymous:e.is_anonymous}).end((function(e,t){H.respond(t,o,a)}))}))},respond:function(e,t,n){e?200===e.statusCode?t(e.body.data):n(e.body.reason||"Something went wrong."):n("No internet connection. Please connect your device and try again.")}},K=function(e){var t,n,o,s,i=e.data,c=e.isDraft,r=a.a.useState([]),l=Object(m.a)(r,2),d=l[0],j=l[1];return a.a.useEffect((function(){void 0!==i.author?H.getPoemAuthors([i.author].concat(Object(C.a)(i.featured_poets))).then((function(e){console.log(e),j(e)})):j([c?{display_name:"Myself",username:"me"}:{display_name:"Anonymous",username:"anonymous"}])}),[]),Object(h.jsxs)("div",{className:I.a.Poem,children:[i.thumbnail?Object(h.jsx)("div",{className:I.a.PoemThumbnail,style:{backgroundImage:"url(".concat(i.thumbnail,")")},"data-text":"Bookmarked and Liked"}):Object(h.jsx)("div",{className:I.a.PoemThumbnail,style:{backgroundImage:"url(".concat([Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENV:"production",REACT_APP_NAME:"Rebbel Poetry",REACT_APP_API_ENDPINT:"http://apis.rebbelpoetry.co/api"}).REACT_APP_API_ENDPOINT,"uploads","default-background.png"].join("/"),")")},"data-text":"Bookmarked and Liked"}),Object(h.jsx)("div",{className:I.a.PoemReadTime,children:i.read_time}),Object(h.jsx)("div",{className:I.a.PoemDetails,children:Object(h.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[Object(h.jsx)("div",{className:I.a.PoemAvatarDetails,children:Object(h.jsx)("a",{href:["/rebbels/@",null===(t=d[0])||void 0===t?void 0:t.username].join(""),className:"avatar small-avatar",style:{backgroundImage:"url(".concat(null===(n=d[0])||void 0===n?void 0:n.display_photo,")")}})}),Object(h.jsxs)("div",{className:I.a.PoemDetailsContainer,children:[Object(h.jsx)("a",{className:I.a.PoemTitle,href:c?["/new_poem?draft_id=",i.did].join(""):["/~",null===(o=i._id)||void 0===o?void 0:o.toUpperCase()].join(""),children:i.title}),Object(h.jsx)("div",{className:I.a.PoemAuthorTime,children:Object(h.jsx)("a",{href:["/"].join(""),children:null===(s=d[0])||void 0===s?void 0:s.display_name})})]}),Object(h.jsx)("span",{style:{flex:"2"}}),Object(h.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[Object(h.jsxs)("div",{style:{display:"flex",gap:"5px",alignItems:"center"},children:[Object(h.jsx)(u.a,{name:"hand-left"}),Object(h.jsx)("span",{children:null===i||void 0===i?void 0:i.likes_count})]}),Object(h.jsxs)("div",{style:{display:"flex",gap:"5px",alignItems:"center"},children:[Object(h.jsx)(u.a,{name:"eye"}),Object(h.jsx)("span",{children:null===i||void 0===i?void 0:i.views_count})]})]})]})})]})},U=n(83),z=n.n(U),M=function(e){var t=e.feed,n=e.isDrafts;return Object(h.jsx)("div",{className:z.a.PoemsGrid,children:t.map((function(e){return Object(h.jsx)(K,{data:e,isDraft:n})}))})},V=function(e,t){return new Promise((function(n,o){try{t&&t.constructor!==String&&(t=t.constructor===Array||t.constructor===Object?JSON.stringify(t,null,2):t.toString()),localStorage.setItem(e,t),n([e,t])}catch(a){console.error(a),o("Something went wrong while saving data")}}))},Y=function(e){return new Promise((function(t,n){try{localStorage.removeItem(e),t()}catch(o){console.error(o),n(o)}}))},G=a.a.createContext({}),W=function(e){var t=e.children,n=a.a.useState(localStorage.getItem("AUTH_TOKEN")),o=Object(m.a)(n,2),s=o[0],i=o[1];return Object(h.jsx)(G.Provider,{value:{userToken:s,setUserToken:i},children:t})},q=function(){return a.a.useContext(G)},Q=n(50),Z=n.n(Q),J=function(){return Object(h.jsx)("div",{className:Z.a.Loader,"data-testid":"Loader",children:Object(h.jsxs)("svg",{width:"84",height:"60",viewBox:"0 0 84 60",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(h.jsx)("path",{className:Z.a.FirstCircle,d:"M0 30C0 13.4315 13.4315 0 30 0V0C46.5685 0 60 13.4315 60 30V30C60 46.5685 46.5685 60 30 60V60C13.4315 60 0 46.5685 0 30V30Z"}),Object(h.jsx)("g",{className:Z.a.BlendGroup,children:Object(h.jsx)("rect",{className:Z.a.SecondCircle,x:"24",width:"60",height:"60",rx:"30",fill:"#1436AD"})})]})})},X=a.a.createContext({}),$=function(e){var t=e.children,n=a.a.useState(!1),o=Object(m.a)(n,2),s=o[0],i=o[1];return Object(h.jsxs)(X.Provider,{value:{isLoaderVisible:s,setIsLoaderVisible:i},children:[Object(h.jsx)("div",{className:"loader-container","data-isvisible":s,children:Object(h.jsx)(J,{})}),t]})},ee=function(){return a.a.useContext(X)},te=n(70),ne=n.n(te),oe=function(e){var t=e.text,n=e.isShowClose,o=e.closeToast;return Object(h.jsxs)("div",{className:ne.a.Toast,"data-testid":"Toast",children:[Object(h.jsx)("span",{children:t}),n&&Object(h.jsx)("div",{className:ne.a.CloseButton,onClick:o,children:"Close"})]})},ae=a.a.createContext({}),se=function(e){var t=e.children,n=a.a.useState(null),o=Object(m.a)(n,2),s=o[0],i=o[1],c=a.a.useState(!1),r=Object(m.a)(c,2),l=r[0],d=r[1];return Object(h.jsxs)(ae.Provider,{value:{showToast:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;i(e),t>3e3&&(d(!0),i("Showing close button")),setTimeout((function(){i(null),d(!1)}),t)},isShowClose:l},children:[t,s&&Object(h.jsx)(oe,{text:s,isShowClose:l,closeToast:function(){return i(null)}})]})},ie=function(){return a.a.useContext(ae)},ce=function(){var e=q().userToken,t=(ie().showToast,ee().setIsLoaderVisible),n=a.a.useState([]),s=Object(m.a)(n,2),i=s[0],c=s[1];return Object(o.useEffect)((function(){document.title=["Rebbel Poetry","Discover"].join(": "),t(!0),e?H.getUnauthenticatedFeed().then((function(e){console.log(e),t(!1),c([].concat(Object(C.a)(i),Object(C.a)(e)))})):H.getUnauthenticatedFeed().then((function(e){t(!1),c([].concat(Object(C.a)(i),Object(C.a)(e)))}))}),[]),Object(h.jsx)(a.a.Fragment,{children:Object(h.jsx)("div",{style:{margin:"0 40px",paddingTop:"100px"},children:Object(h.jsx)(M,{feed:i})})})},re=n(84),le=n.n(re),de=function(){return Object(o.useEffect)((function(){document.title=["Rebbel Poetry","Page Not Found"].join(": ")}),[]),Object(h.jsx)("div",{className:"page-container",style:{transform:"translateY(-0px)"},children:Object(h.jsx)("div",{className:le.a.NotFoundPage,"data-testid":"NotFoundPage",children:Object(h.jsxs)("section",{children:[Object(h.jsxs)("svg",{width:"600",height:"300",viewBox:"0 0 900 600",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(h.jsxs)("g",{"clip-path":"url(#a)",children:[Object(h.jsx)("path",{fill:"transparent",d:"M0 0h900v600H0z"}),Object(h.jsx)("path",{d:"M157.59 257.731c-16.544 71.859 99.646 244.016 283.947 219.801 85.717-11.265 86.156-54.611 157.633-99.417 42.604-26.704 99.902-42.538 122.992-88.105 19.941-39.329 19.899-85.333 2.892-118.208-38.249-73.933-130.612-136.06-247.161-50.302-116.549 85.757-277.611-49.094-320.303 136.231z",fill:"url(#b)"}),Object(h.jsx)("path",{d:"M556.338 457.362c45.683-37.581 92.95-77.869 144.022-90.266 52.682-12.799 57.009 4.949 53.597 30.407-3.412 25.458-33.211 79.959-104.812 96.326-71.62 16.372-135.555-1.292-92.807-36.467z",fill:"#222"}),Object(h.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M669.988 222.397v37.447H670a31.258 31.258 0 0 0-16.282 1.058 30.345 30.345 0 0 0-19.62 21.34 30.75 30.75 0 0 0 29.761 38.366 31.505 31.505 0 0 0 6.141-.616v37.447a24.549 24.549 0 0 1-24.551 24.549H608V382a31.253 31.253 0 0 0-1.058-16.281A30.347 30.347 0 0 0 585.6 346.1a30.752 30.752 0 0 0-38.367 29.76c.003 2.062.209 4.118.616 6.14l-37.437-.012c-13.556.003-24.548-10.983-24.552-24.538v-37.447a31.412 31.412 0 0 1-6.14.617 30.755 30.755 0 0 1-29.762-38.366 30.347 30.347 0 0 1 19.62-21.34 31.258 31.258 0 0 1 16.282-1.059h-.011v-37.447a24.548 24.548 0 0 1 24.551-24.55h37.449a31.334 31.334 0 0 1-.616-6.14 30.75 30.75 0 0 1 38.367-29.76 30.39 30.39 0 0 1 21.342 19.619A31.254 31.254 0 0 1 608 197.858h37.449a24.555 24.555 0 0 1 17.361 7.19 24.553 24.553 0 0 1 7.19 17.36m-413.107 22.063h37.567v-.012a31.36 31.36 0 0 0 1.061 16.334 30.445 30.445 0 0 0 21.409 19.683 30.85 30.85 0 0 0 38.488-29.857 31.547 31.547 0 0 0-.619-6.16h37.567a24.627 24.627 0 0 1 24.628 24.63v37.568h.012a31.35 31.35 0 0 0-16.334 1.062 30.442 30.442 0 0 0-19.681 21.409 30.851 30.851 0 0 0 29.855 38.49 31.469 31.469 0 0 0 6.16-.618l-.012 37.556c.002 13.599-11.018 24.626-24.616 24.63h-37.567c.408 2.028.615 4.092.618 6.16a30.851 30.851 0 0 1-38.488 29.857 30.443 30.443 0 0 1-21.408-19.683 31.36 31.36 0 0 1-1.062-16.334v.012h-37.566a24.626 24.626 0 0 1-24.628-24.63V367a31.469 31.469 0 0 1-6.16.618 30.849 30.849 0 0 1-29.855-38.49 30.484 30.484 0 0 1 19.682-21.409 31.345 31.345 0 0 1 16.333-1.062v-37.568a24.626 24.626 0 0 1 24.628-24.63",fill:"#666AF6"}),Object(h.jsx)("path",{d:"M118.659 471.348c-1.388-1.976-2.37-62.08-1.003-64.482 1.374-2.395 61.542-19.872 61.542-19.872s20.369-33.19 39.571-51.775c7.571-7.337 18.638-13.498 21.352-9.375 1.683 2.554-.989 9.093-4.768 15.976a.272.272 0 0 1-.034.062c-5.262 9.574-12.634 19.768-13.328 20.725a.864.864 0 0 0-.055.069s49.911-12.679 57.434-14.042c7.522-1.376 17.339-3.565 18.899 1.515 1.436 4.666-11.274 10.132-12.029 10.455.817-.227 18.088-4.997 20.651 1.508 1.903 4.838-15.959 13.993-16.488 14.255.446-.117 8.958-2.361 9.858 1.686 1.477 6.656-17.051 14.324-17.807 14.641.419-.104 7.303-1.728 7.798 1.996 1.223 9.223-62.511 34.787-81.987 41.98-19.497 7.186-88.211 36.653-89.606 34.678zm648.682-330.254c1.388 1.963 2.37 61.689 1.003 64.077-1.374 2.38-61.531 19.746-61.531 19.746s-20.366 32.982-39.565 51.45c-7.569 7.292-18.635 13.413-21.348 9.316-1.683-2.537.989-9.035 4.767-15.875.007-.021.021-.041.034-.062 5.262-9.514 12.632-19.644 13.326-20.595.041-.048.055-.068.055-.068s-49.902 12.599-57.424 13.953c-7.521 1.368-17.337 3.543-18.896-1.505-1.435-4.637 11.272-10.068 12.028-10.389-.818.225-18.086 4.965-20.648-1.498-1.903-4.809 15.956-13.906 16.485-14.166-.446.117-8.957 2.346-9.857-1.676-1.477-6.614 17.049-14.233 17.804-14.548-.419.103-7.301 1.717-7.796-1.984-1.222-9.165 62.5-34.569 81.973-41.716 19.494-7.141 88.196-36.423 89.59-34.46z",fill:"#F8AE9D"})]}),Object(h.jsxs)("defs",{children:[Object(h.jsxs)("linearGradient",{id:"b",x1:"251.53",y1:"722.027",x2:"724.85",y2:"-428.788",gradientUnits:"userSpaceOnUse",children:[Object(h.jsx)("stop",{"stop-color":"#fff"}),Object(h.jsx)("stop",{offset:"1","stop-color":"#EEE"})]}),Object(h.jsxs)("linearGradient",{id:"c",x1:"552.551",y1:"619.902",x2:"796.653",y2:"144.968",gradientUnits:"userSpaceOnUse",children:[Object(h.jsx)("stop",{"stop-color":"#fff"}),Object(h.jsx)("stop",{offset:"1","stop-color":"#EEE"})]}),Object(h.jsx)("clipPath",{id:"a",children:Object(h.jsx)("path",{fill:"#fff",d:"M0 0h900v600H0z"})})]})]}),Object(h.jsx)("h1",{children:"Opps, for the one who's lost \u2014 this is a dead-end!"}),Object(h.jsxs)("p",{children:["You seem to have fallen off the wagon. Trace your way ",Object(h.jsx)(b.b,{to:"/",children:"back to home."})," The page you're looking for seems to have been removed or doesn't exist at all, maybe you could check for typing errors and try again."]})]})})})},ue=n(58),je=n.n(ue),be=function(e){var t=e.poet;return Object(h.jsxs)("a",{className:je.a.Poet,href:["/rebbels/@",t.username].join(""),children:[Object(h.jsx)("div",{className:je.a.PoetAvatar,style:{backgroundImage:"url(".concat(t.display_photo,")")}}),Object(h.jsx)("div",{className:"PoetDetails",children:Object(h.jsx)("b",{className:je.a.PoetName,children:t.display_name.split(" ")[0]})})]})},me=n(85),he=n.n(me),pe=n(38),fe=n.n(pe),Oe=function(){var e=a.a.useState([]),t=Object(m.a)(e,2),n=t[0],s=t[1],i=a.a.useState([]),c=Object(m.a)(i,2),r=c[0],l=c[1],d=O().userSession,u=Object(j.g)(),b=ee().setIsLoaderVisible,p=fe.a.parse(u.location.search,{ignoreQueryPrefix:!0}),f=a.a.useState(p),x=Object(m.a)(f,2),_=x[0],v=x[1],g=a.a.useState(""),P=Object(m.a)(g,2),y=P[0],N=P[1],C=a.a.useCallback((function(){b(!0),N(""),F.get([R.BACKEND,"rebbels?limit=10&start="+_.index].join("/")).set("Authorization",d?d.token:void 0).end((function(e,t){b(!1),t?(console.log(t.body),200===t.statusCode?(s(t.body.data.rebbels),w(t.body.data.total_count)):(N(t.body.reason||"An error has occurred while retrieving the poets from the server"),w(1))):(N("An error has occurred while retrieving the poets from the server"),w(1))}))})),w=function(e){l([]);for(var t=[],n=1;n<=e;n++)t.push(n);l(t)};return Object(o.useEffect)((function(){document.title=["Rebbel Poetry","All Rebbel Poets"].join(": "),_.index||v(Object(L.a)(Object(L.a)({},_),{},{index:1})),C()}),[]),Object(h.jsxs)("div",{className:"page-container",children:[Object(h.jsxs)("div",{className:"page-header",children:[Object(h.jsx)("span",{className:"name",children:"All Rebbels"}),Object(h.jsx)("div",{className:"flex-space"}),Object(h.jsx)("a",{href:"/search?filter=by_rebbel",children:Object(h.jsx)("span",{children:"Filter"})})]}),!y&&Object(h.jsxs)("div",{className:he.a.Poets,children:["1"===_.index&&Object(h.jsx)(be,{poet:{display_name:"Anonymous",username:"anonymous"}}),n.map((function(e){return Object(h.jsx)(be,{poet:e},e._id)}))]}),y&&Object(h.jsx)("div",{children:Object(h.jsxs)("h2",{style:{textAlign:"center"},children:[y," \u2014"," ",Object(h.jsx)("a",{style:{fontSize:"50px",color:"white",userSelect:"none"},onClick:function(){return C()},children:"Try this again."})]})}),!!r.length&&Object(h.jsxs)("div",{className:"more-pages",children:[Object(h.jsx)("div",{className:"more-pages-title",children:"More Rebbels"}),Object(h.jsx)("div",{className:"more-pages-links",children:r.map((function(e){return Object(h.jsx)("a",{href:["/rebbels?index=",e].join(""),"data-isactive":e.toString()===_.index,children:e},e)}))})]})]})},xe=n(18),_e=n.n(xe),ve=n(39),ge=n.n(ve),Pe=n(71),ye=n.n(Pe),Ne=function(e){var t=e.display_name,n=e.display_photo;return Object(h.jsx)("div",{className:ye.a.PreviewAvatar,style:{backgroundImage:"url(".concat(n,")")},"data-testid":"PreviewAvatar",children:Object(h.jsx)("div",{children:Object(h.jsx)("div",{className:ye.a.PreviewDisplayName,children:t})})})},Ce=function(){var e,t,n=Object(j.i)(),o=O(),s=o.userSession,i=o.setUserSession,c=q().userToken,r=ie().showToast,l=ee().setIsLoaderVisible,d=a.a.useState(null),u=Object(m.a)(d,2),p=u[0],f=u[1],x=a.a.useState([]),_=Object(m.a)(x,2),v=_[0],g=_[1],P=a.a.useState(!1),y=Object(m.a)(P,2),N=y[0],C=y[1],w=a.a.useCallback((function(){return new Promise((function(e,t){s&&s.username===n.poet||(l(!0),F.get([R.BACKEND,"rebbels",n.poet].join("/")).end((function(t,n){l(!1),n&&200===n.statusCode&&(e(n.body.data),document.title=["Rebbel Poetry",[n.body.data.display_name," (@",n.body.data.username,")"].join("")].join(": "))})))}))})),S=function(e){F.patch([R.BACKEND,"rebbels",s.email_address].join("/")).set("Authorization",c).send({display_photo:e}).end((function(t,n){n?200===n.status?(i(Object(L.a)(Object(L.a)({},s),{},{display_photo:e})),f(Object(L.a)(Object(L.a)({},p),{},{display_photo:e})),r("Profile avatar updated.")):r(n.body.reason||"Something went wrong."):r("No internet connection.")}))},k=function(){C(!N)};return a.a.useEffect((function(){w().then((function(e){f(e),e.poems.forEach((function(t){return H.getPoemData(t).then((function(t){var n=v;n.push(t),g(n),setTimeout((function(){f(Object(L.a)({},e))}),100)}))}))}))}),[]),p&&Object(h.jsxs)("div",{style:{width:"100%"},className:"page-container",children:[Object(h.jsx)(ge.a,{isOpen:N,onRequestClose:function(){return k()},style:{overlay:{zIndex:6e4},content:{width:"45%",padding:0,height:"500px",margin:"auto",position:"absolute",bottom:"20px",borderRadius:"5px",border:"3px solid black"}},children:Object(h.jsx)(Ne,{display_photo:null===p||void 0===p?void 0:p.display_photo,display_name:null===p||void 0===p?void 0:p.display_name})}),Object(h.jsxs)("div",{className:_e.a.ProfilePage,children:[Object(h.jsx)("div",{className:_e.a.ProfileAvatarContainer,children:Object(h.jsx)("div",{className:_e.a.ProfileAvatar,"data-ischangeable":p.username==(null===s||void 0===s?void 0:s.username),"data-isviewable":p.username!=(null===s||void 0===s?void 0:s.username),onClick:function(){(null===p||void 0===p?void 0:p.username)==(null===s||void 0===s?void 0:s.username)?function(){var e=document.createElement("input");e.type="file",e.accept=".gif,.jpg,.jpeg,.png",e.click(),e.addEventListener("change",(function(t){F.post([R.BACKEND,"assets","upload"].join("/")).attach("file",e.files[0]).set("Authorization",c).end((function(e,t){t?200===t.status?S(t.body.data.large):r(t.body.reason||"Something went wrong."):r("Not connected to the internet.")}))}))}():k()},style:{backgroundImage:"url(".concat(p.display_photo,")")}})}),Object(h.jsxs)("div",{className:_e.a.PageContents,children:[Object(h.jsxs)("div",{className:_e.a.ProfileName,children:[Object(h.jsxs)("span",{className:_e.a.Name,children:[p.display_name," ",s&&s.username===p.username?"(Me)":""]}),Object(h.jsx)("span",{className:_e.a.ProfleVerificationSign})]}),Object(h.jsxs)("div",{className:_e.a.ProfileBiography,children:[Object(h.jsx)("span",{children:p.biography}),s&&s.username===p.username?0!==p.biography.length?Object(h.jsx)(b.b,{className:_e.a.ProfileBiographyEditButton,children:"Edit"}):Object(h.jsx)(b.b,{className:_e.a.ProfileBiographyEditButton,style:{transform:"translateX(-20px)"},children:"Add a biography"}):""]}),Object(h.jsxs)("div",{className:_e.a.ProfileHeaderButtons,children:[s&&s.username===p.username?"":Object(h.jsx)("button",{className:_e.a.FollowButton,style:{backgroundColor:(null===s||void 0===s||null===(e=s.follows)||void 0===e?void 0:e.includes(p._id))?"#333":"black"},onClick:function(){new Promise((function(e,t){F.post([R.BACKEND,"rebbels","follow",p.username].join("/")).set("Authorization",c).end((function(t,n){console.log(n),n&&200===n.status?(console.log(i,s),i(Object(L.a)(Object(L.a)({},s),{},{follows:n.body.data})),e(),console.log("Follows",s.follows)):console.log(n.body.reason||"Something went wrong.")}))})).then((function(){return console.log()}))},children:(null===s||void 0===s||null===(t=s.follows)||void 0===t?void 0:t.includes(p._id))?Object(h.jsx)("span",{children:"Following \u2713"}):Object(h.jsxs)("span",{style:{positon:"relative"},children:["Follow ",Object(h.jsx)("span",{style:{opacity:0,positon:"absolute"},children:"\u2713"})]})}),s&&s.username===p.username?Object(h.jsx)("button",{children:"Share your profile"}):Object(h.jsx)("button",{children:"Share Profile"}),s&&s.username===p.username?"":Object(h.jsx)("button",{children:"Collaborate"})]}),Object(h.jsxs)("div",{className:_e.a.ProfileStats,children:[Object(h.jsxs)(b.b,{children:[Object(h.jsx)("b",{children:p.poems.length})," Poems Published"]}),Object(h.jsxs)(b.b,{children:[Object(h.jsx)("b",{children:p.followers.length})," Followers"]}),Object(h.jsxs)(b.b,{children:[Object(h.jsx)("b",{children:p.follows.length})," Follows"]})]})]})]}),Object(h.jsx)("div",{style:{width:"100%"},children:p.poems.length?Object(h.jsx)(M,{feed:v}):Object(h.jsxs)("h1",{children:[p.display_name," has not published any poems yet."]})})]})},we=n(25),Se=n.n(we),ke=function(e){var t,n,o,s,i,c,r,l=e.poemData,d=a.a.useState([]),u=Object(m.a)(d,2),j=u[0],p=u[1];return a.a.useEffect((function(){l&&(void 0!==(null===l||void 0===l?void 0:l.author)?H.getPoemAuthors([null===l||void 0===l?void 0:l.author].concat(Object(C.a)(null===l||void 0===l?void 0:l.featured_poets))).then((function(e){console.log(e),p(e)})):p([{display_name:"Anonymous",username:"anonymous"}]))}),[l]),Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:Se.a.PoemPageHeader,children:Object(h.jsx)("div",{className:Se.a.BackgroundDiffuser,children:Object(h.jsxs)("div",{className:Se.a.PoemInformationContainer,children:[Object(h.jsx)("div",{children:Object(h.jsx)("div",{className:Se.a.PoemThumbnailImage,style:{backgroundImage:"url(".concat(null===l||void 0===l?void 0:l.thumbnail,")")},children:Object(h.jsx)("div",{className:Se.a.PlayPauseButton})})}),Object(h.jsxs)("div",{className:Se.a.PoemDetailsContainer,children:[Object(h.jsx)("h2",{className:Se.a.PoemTitle,children:null===l||void 0===l?void 0:l.title}),Object(h.jsxs)("div",{className:Se.a.PoemAuthor,children:["Written by"," ",Object(h.jsx)(b.b,{to:"/rebbels/@".concat(null===(t=j[0])||void 0===t?void 0:t.username),children:null===(n=j[0])||void 0===n?void 0:n.display_name})]}),Object(h.jsx)("table",{className:Se.a.PoemMetadataItems,children:Object(h.jsxs)("tbody",{children:[Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"Read time"}),Object(h.jsx)("td",{children:Object(h.jsx)("a",{href:["/search?keyword=",null===l||void 0===l||null===(o=l.read_time)||void 0===o?void 0:o.split(" ").join("+")].join(""),children:null===l||void 0===l?void 0:l.read_time})})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"Word count"}),Object(h.jsxs)("td",{children:[(null===l||void 0===l||null===(s=l.body)||void 0===s?void 0:s.split(" ").length)||0," words"]})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"Published on"}),Object(h.jsx)("td",{children:Object(h.jsx)("a",{href:["/search?keyword=",null===l||void 0===l||null===(i=l.time_created)||void 0===i||null===(c=i.day)||void 0===c?void 0:c.split(" ").join("+")].join(""),children:null===l||void 0===l||null===(r=l.time_created)||void 0===r?void 0:r.day})})]})]})})]}),Object(h.jsx)("div",{className:Se.a.PoemStats,children:Object(h.jsx)("div",{})})]})})})})},Ae=n(72),De=n.n(Ae),Te={comment:function(e,t){return new Promise((function(n,o){F.post([R.BACKEND,"poems",e.pId,"comments"].join("/")).set("Authorization",t).send(e).end((function(e,t){Te.respond(t,n,o)}))}))},getComments:function(e){return new Promise((function(t,n){F.get([R.BACKEND,"poems",e,"comments?start=0&limit=20"].join("/")).end((function(e,o){Te.respond(o,t,n)}))}))},react:function(e,t){return new Promise((function(n,o){F.post([R.BACKEND,"poems","comments",e,"react"].join("/")).set("Authorization",t).end((function(e,t){Te.respond(t,n,o)}))}))},update:function(e,t,n){return new Promise((function(o,a){F.patch([R.BACKEND,"poems","comments",t].join("/")).set("Authorization",n).send({body:e}).end((function(e,t){Te.respond(t,o,a)}))}))},delete:function(e,t){return new Promise((function(n,o){F.delete([R.BACKEND,"poems","comments",e].join("/")).set("Authorization",t).end((function(e,t){Te.respond(t,n,o)}))}))},respond:function(e,t,n){e?200===e.statusCode?t(e.body.data):n(e.body.reason||"Something went wrong."):n("No internet connection. Please connect your device and try again.")}},Be=n(67),Ee=n.n(Be),Ie=n(27),Le=n.n(Ie),Fe=function(e){var t,n,o=e.comment,s=e.update,i=q(),c=O().userSession,r=a.a.useState(!1),l=Object(m.a)(r,2),d=l[0],j=l[1],p=a.a.useState([]),f=Object(m.a)(p,2),x=f[0],_=f[1],v=a.a.createRef();return a.a.useEffect((function(){H.getPoemAuthors([o.commenter,"61353484137f33dd6430333c"]).then((function(e){e.length&&_(e[0])}))}),[o]),Object(h.jsxs)("div",{className:Le.a.Comment,children:[Object(h.jsxs)("div",{className:Le.a.CommentActions,children:[Object(h.jsx)("div",{className:Le.a.CommentLikesCount,children:null===o||void 0===o?void 0:o.likes_count}),Object(h.jsx)("div",{className:Le.a.CommentActionButtons,children:Object(h.jsx)("div",{className:Le.a.Like,"data-isliked":o.likes.includes(null===c||void 0===c?void 0:c._id),onClick:function(){return Te.react(o._id,i.userToken).then((function(e){e.is_like?o.likes.push(null===c||void 0===c?void 0:c._id):o.likes.splice(o.likes.indexOf(null===c||void 0===c?void 0:c._id),1),o.likes_count=e.likes_count,s(o,o._id)}))},children:Object(h.jsx)(u.a,{name:"heart-sharp"})})})]}),Object(h.jsxs)("div",{className:Le.a.CommentBody,children:[!d&&Object(h.jsx)(Ee.a,{children:o.body}),d&&Object(h.jsx)("textarea",{rows:"2",placeholder:"Type your comment...",defaultValue:o.body,ref:v}),Object(h.jsxs)("span",{className:Le.a.CommentorNameDate,children:["\u2014 By"," ",Object(h.jsx)(b.b,{to:"/rebbels/@".concat(x.username),children:null===x||void 0===x?void 0:x.display_name})," ","on"," ",Object(h.jsxs)("strong",{children:[null===(t=o.time_created)||void 0===t?void 0:t.day," at ",null===o||void 0===o||null===(n=o.time_created)||void 0===n?void 0:n.time]})]}),Object(h.jsxs)("div",{className:Le.a.CommentMoreActions,children:[Object(h.jsx)("a",{onClick:function(){d?Te.update(v.current.value,o._id,i.userToken).then((function(){s(Object(L.a)(Object(L.a)({},o),{},{body:v.current.value}),o._id),j(!d)})):j(!d)},children:d?"Save changes":"Edit"}),Object(h.jsx)("a",{onClick:function(){return Te.delete(o._id,i.userToken).then((function(){s(void 0,o._id)}))},children:"Delete"})]})]})]})},Re=function(){var e=ee().setIsLoaderVisible,t=Object(j.i)(),n=q(),o=a.a.createRef(),s=a.a.useState([]),i=Object(m.a)(s,2),c=i[0],r=i[1];return a.a.useEffect((function(){Te.getComments(t.poemId).then((function(e){r(e)})).catch((function(e){return console.log(e)}))}),[]),Object(h.jsxs)("section",{className:De.a.CommentsSection,"data-testid":"CommentsSection",children:[c.map((function(e){return Object(h.jsx)(Fe,{comment:e,update:function(e,t){var n=c.findIndex((function(e){return e._id===t}));if(n>-1){var o=Object(C.a)(c);e?o[n]=e:o.splice(n,1),r(o)}}})})),Object(h.jsxs)("div",{className:De.a.PostCommentField,children:[Object(h.jsx)("textarea",{rows:"2",placeholder:"Type your comment...",ref:o}),Object(h.jsx)("button",{onClick:function(){e(!0),Te.comment({pId:t.poemId,body:o.current.value},n.userToken).then((function(t){r([].concat(Object(C.a)(c),[t])),o.current.value="",e(!1)})).catch((function(t){e(!1),console.log("error",t)}))},children:"Post your comment"})]})]})},He=n(59),Ke=n.n(He),Ue=function(e){var t=e.pId,n=e.pTitle,o=a.a.useState([R.FRONTEND,"/~",t.toUpperCase()].join("")),s=Object(m.a)(o,2),i=s[0],c=(s[1],ie().showToast);return Object(h.jsxs)("div",{className:Ke.a.PoemShareContents,"data-testid":"PoemShareContents",children:[Object(h.jsx)("h4",{children:"Share with your friends"}),Object(h.jsxs)("div",{className:Ke.a.ShareLinkInput,children:[Object(h.jsx)("input",{type:"text",value:i,disabled:!0}),Object(h.jsx)("button",{onClick:function(){navigator.clipboard.writeText(i).then((function(){return c("Your share link has been copied.")}))},children:"Copy Link"})]}),Object(h.jsx)("h6",{children:"You can also share to"}),Object(h.jsxs)("div",{className:Ke.a.SocialMediaShare,children:[Object(h.jsx)("a",{href:["https://api.whatsapp.com/send?text=Read poem ",n," on Rebbel Poetry using link ",i].join(""),target:"_blank",children:Object(h.jsx)(u.a,{name:"logo-whatsapp"})}),Object(h.jsx)("a",{target:"_blank",href:["https://www.facebook.com/sharer/sharer.php?u=",i].join(""),class:"fb-xfbml-parse-ignore",children:Object(h.jsx)(u.a,{name:"logo-facebook"})})]})]})},ze=n(17),Me=n.n(ze),Ve=n(51),Ye=n(52),Ge=function(){var e,t,n,o=ee().setIsLoaderVisible,s=q().userToken,i=O(),c=i.userSession,r=i.setUserSession,l=ie().showToast,d=Object(j.g)(),b=a.a.useState(!1),p=Object(m.a)(b,2),f=p[0],x=p[1],_=a.a.createRef(),v=a.a.useState(!1),g=Object(m.a)(v,2),P=g[0],y=g[1],N=a.a.useRef(),w=a.a.useRef(),S=a.a.useState(0),k=Object(m.a)(S,2),A=k[0],D=k[1],T=a.a.useRef(),B=a.a.useState("Click on an annotation to read more about it's text. The Rebbel Poet left an explaination for the phrases he uses."),E=Object(m.a)(B,2),I=E[0],K=E[1],U=a.a.useState(-1),z=Object(m.a)(U,2),M=z[0],V=z[1],Y=a.a.useState([]),G=Object(m.a)(Y,2),W=G[0],Q=G[1],Z=Object(j.i)(),J=a.a.useState({}),X=Object(m.a)(J,2),$=X[0],te=X[1];return a.a.useEffect((function(){o(!0),F.get([R.BACKEND,"poems",Z.poemId].join("/")).end((function(e,t){o(!1),t?200===t.status?(te(t.body.data),H.getTags(t.body.data.tags,s).then((function(e){Q(e)})),document.title=["Rebbel Poetry",": ",t.body.data.title].join("")):404===t.status&&(d.push("/not_found"),l("Poem was not found.")):(l("You're not connected with the internet."),te(null))}))}),[]),a.a.useEffect((function(){(null===$||void 0===$?void 0:$.title)&&(null===$||void 0===$?void 0:$.title.includes("Guides: "))&&N.current.classList.add("is-guide");window.addEventListener("scroll",(function(e){var t=window.scrollY,n=N.current;if(n){var o=n.getBoundingClientRect();o.y-t<=0?(w.current.style.position="fixed",w.current.style.top="200px"):(w.current.style.position="absolute",w.current.style.top="0px"),t>o.bottom+200?w.current.style.opacity=0:w.current.style.opacity=1}}))}),[$]),Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:Me.a.PoemPageContainer,children:[Object(h.jsx)(ge.a,{isOpen:P,onRequestClose:function(){return y(!1)},style:{overlay:{zIndex:6e4},content:{width:"40%",height:"300px",margin:"auto",position:"absolute",bottom:"20px",borderRadius:"0px",border:"3px solid black"}},children:Object(h.jsx)(Ue,{pId:null===$||void 0===$?void 0:$._id,pTitle:null===$||void 0===$?void 0:$.title})}),Object(h.jsx)(ke,{poemData:$}),Object(h.jsxs)("div",{className:Me.a.PoemContents,children:[Object(h.jsxs)("div",{className:Me.a.PoemSplitSides,children:[Object(h.jsxs)("div",{className:Me.a.SideButtons,ref:w,children:[Object(h.jsxs)("button",{className:Me.a.Heart,"data-isLiked":null===$||void 0===$||null===(e=$.likes)||void 0===e?void 0:e.includes(null===c||void 0===c?void 0:c._id),onClick:function(){H.likePoem(null===$||void 0===$?void 0:$._id,s).then((function(e){te(Object(L.a)(Object(L.a)({},$),{},{likes_count:e.likes_count,likes:e.likes}))}))},children:[(null===$||void 0===$||null===(t=$.likes)||void 0===t?void 0:t.includes(null===c||void 0===c?void 0:c._id))?Object(h.jsx)(u.a,{name:"hand-left"}):Object(h.jsx)(u.a,{name:"hand-left-outline"}),Object(h.jsx)("span",{className:"count",children:null===$||void 0===$?void 0:$.likes_count})]}),Object(h.jsxs)("button",{title:"Users currently reading this poem.",children:[Object(h.jsx)(u.a,{name:"eye-outline"}),Object(h.jsx)("span",{className:"count",children:null===$||void 0===$?void 0:$.views_count})]}),Object(h.jsxs)("button",{className:Me.a.Bookmark,"data-isBookmarked":null===c||void 0===c?void 0:c.bookmarked_poems.includes(null===$||void 0===$?void 0:$._id),onClick:function(){s?H.bookmarkPoem(null===$||void 0===$?void 0:$._id,s).then((function(e){if(te(Object(L.a)(Object(L.a)({},$),{},{bookmarks_count:e.bookmarks_count})),e.is_bookmark)r(Object(L.a)(Object(L.a)({},c),{},{bookmarked_poems:[].concat(Object(C.a)(c.bookmarked_poems),[null===$||void 0===$?void 0:$._id])}));else{var t=c.bookmarked_poems,n=t.indexOf(null===$||void 0===$?void 0:$._id);n>-1&&(t.splice(n,1),r(Object(L.a)(Object(L.a)({},c),{},{bookmarked_poems:t})))}console.log("User session",c)})):l("You are not logged in. Sign in to bookmark this poem.")},children:[(null===c||void 0===c?void 0:c.bookmarked_poems.includes(null===$||void 0===$?void 0:$._id))?Object(h.jsx)(u.a,{name:"bookmark-sharp"}):Object(h.jsx)(u.a,{name:"bookmark-outline"}),Object(h.jsx)("span",{className:"count",children:null===$||void 0===$?void 0:$.bookmarks_count})]}),Object(h.jsxs)("button",{className:Me.a.Share,onClick:function(){y(!P)},children:[Object(h.jsx)(u.a,{name:"share-outline"}),Object(h.jsx)("span",{className:"count",children:"Share"})]})]}),Object(h.jsxs)("div",{className:Me.a.PoemTextContainer,ref:N,children:[c&&c._id===(null===$||void 0===$?void 0:$.author)&&Object(h.jsxs)("div",{className:Me.a.PoemActions,children:[Object(h.jsx)("a",{onClick:function(){var e=!f;x(e),e?_.current.innerText=null===$||void 0===$?void 0:$.body:(_.current.innerText="",H.updatePoem({body:null===$||void 0===$?void 0:$.body},null===$||void 0===$?void 0:$._id,s))},children:f?"Update":"Edit"}),f?Object(h.jsx)("a",{className:"color-danger",onClick:function(){return x(!1)},children:"Cancel"}):Object(h.jsx)("a",{className:"color-danger",onClick:function(){H.deletePoem(null===$||void 0===$?void 0:$._id,s).then((function(){l("Poem deleted."),d.push("/discover")})).catch((function(e){return console.log("ERRRROR:",e)}))},children:"Delete"}),Object(h.jsx)("div",{ref:_,onKeyUp:function(){return te(Object(L.a)(Object(L.a)({},$),{},{body:_.current.innerText}))},contentEditable:"true",style:{borderBottom:f?"3px solid black":"none",paddingBottom:f?"20px":"0"}}),f&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("br",{}),Object(h.jsx)("h5",{children:"Resulting Changes:"}),Object(h.jsx)("br",{})]})]}),Object(h.jsx)("p",{style:{whiteSpace:"pre-wrap"},children:function(e){if(e){for(var t=e.split("|"),n=[],o=function(e){if(t[e].includes("=")){var o=t[e].split("="),a=o[0],s=o[1];n.push(Object(h.jsx)("a",{onClick:function(t){!function(e,t){if(t){var n=t.target.getBoundingClientRect(),o=N.current.getBoundingClientRect(),a=n.y-o.y;T.current.style.display="block",K(e);var s=T.current.getBoundingClientRect(),i=a+s.height;o.height-i<0&&(a=o.height-s.height),D(a),T.current.style.transform=["translateY(",a,"px)"].join("")}else D(0),T.current.style.display="block"}(s,t),V(e)},"data-index":e,"data-isactive":e===M,children:a}))}else n.push(Object(h.jsx)("span",{children:t[e]}))},a=0;a<t.length;a++)o(a);return n}return Object(h.jsx)("span",{children:"Loading..."})}(null===$||void 0===$?void 0:$.body)})]}),Object(h.jsx)("div",{className:Me.a.AnnotationsContainer,style:{translate:"translateY(".concat(A,"px)")},ref:T,children:Object(h.jsx)(Ve.a,{plugins:[Ye.a],linkTarget:"_blank",children:I})})]}),W.length>0&&Object(h.jsxs)("div",{className:Me.a.PoemTags,children:[Object(h.jsx)("span",{children:"Tags"}),W.map((function(e){return Object(h.jsx)("a",{href:["/search?keyword=",e.name.toLowerCase().split(" ").join("+")].join(""),className:"tag",children:e.name})}))]}),Object(h.jsxs)("div",{className:Me.a.CommentsSection,children:[Object(h.jsxs)("h4",{className:Me.a.CommentsSectionHeader,children:[Object(h.jsx)("span",{className:Me.a.Name,children:"Community Commentations"}),Object(h.jsxs)("span",{className:Me.a.Count,children:[(null===$||void 0===$||null===(n=$.comments)||void 0===n?void 0:n.length)?[null===$||void 0===$?void 0:$.comments.length,"Comments"].join(" "):"No comments"," ","posted"]})]}),Object(h.jsx)(Re,{commentIds:null===$||void 0===$?void 0:$.comments})]})]})]})})},We=n(44),qe=n.n(We),Qe=function(){var e,t,n=a.a.useState(null),s=Object(m.a)(n,2),i=s[0],c=s[1],r=a.a.useState({}),l=Object(m.a)(r,2),d=l[0],b=l[1],p=ee().setIsLoaderVisible,f=ie().showToast,O=Object(j.g)();console.log(O);var x=function(e){O.push([O.location.pathname,"?keyword=",i].join("")),b({}),p(!0),F.get([R.BACKEND,["search?keyword=",(i||e).split(" ").join("+")].join("")].join("/")).end((function(e,t){p(!1),t?200===t.status?(b(t.body.data),console.log(t.body)):f(t.body.reason||"Something went wrong."):f("No internet connection.")}))};return Object(o.useEffect)((function(){var e=fe.a.parse(O.location.search,{ignoreQueryPrefix:!0});document.title=["Rebbel Poetry","Search"].join(": "),e.keyword&&(c(e.keyword),x(e.keyword))}),[]),Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"page-container",children:[Object(h.jsx)("h1",{className:qe.a.PageTitle,children:"Search"}),Object(h.jsxs)("div",{className:qe.a.SearchInputContainer,children:[Object(h.jsx)("input",{className:qe.a.LargeSearchInput,type:"text",defaultValue:i,placeholder:"Search for Rebbel Poems / Rebbel Poets",onKeyUp:function(e){c(e.target.value),b({})}}),Object(h.jsx)("div",{className:qe.a.SearchButton,onClick:x,children:Object(h.jsx)(u.a,{name:"arrow-forward-sharp"})})]}),d.poems&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("h4",{style:{textAlign:"center"},children:[(null===(e=d.poems)||void 0===e?void 0:e.length)||(null===(t=d.authors)||void 0===t?void 0:t.length)?"All results for ":"No results found for keyword"," ",'"',i,'"']}),!!d.authors.length&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{children:"Rebbel Poets"}),Object(h.jsx)("div",{className:qe.a.Rebbels,children:d.authors.map((function(e){return Object(h.jsx)(be,{poet:e})}))})]}),!!d.poems.length&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{children:"Poems Results"}),Object(h.jsx)(M,{feed:d.poems})]})]})]})})},Ze=n(21),Je=n.n(Ze),Xe=function(){return Object(h.jsxs)("div",{className:Je.a.FooterContainer,children:[Object(h.jsxs)("div",{className:Je.a.Footer,children:[Object(h.jsxs)("section",{className:Je.a.LeftSection,children:[Object(h.jsx)("img",{src:c,alt:""}),Object(h.jsx)("a",{className:Je.a.BrandName,href:"/",children:"Rebbel Poetry"}),Object(h.jsxs)("div",{className:Je.a.Legal,children:["All poems on this site are part of copyrights of their respective poets. All content on this site is published here under"," ",Object(h.jsx)("a",{href:"https://creativecommons.org/licenses/",target:"_blank",children:"Creative Commons License"}),"."]})]}),Object(h.jsxs)("section",{className:Je.a.FirstMiddleSection,children:[Object(h.jsx)("div",{className:Je.a.SectionName,children:"Navigation"}),Object(h.jsx)(b.b,{to:"/",children:"Top Ranked Poems"}),Object(h.jsx)(b.b,{to:"/poets",children:"Top Rebel Poets"}),Object(h.jsx)(b.b,{to:"/my_drafts",children:"View your Drafts"}),Object(h.jsx)(b.b,{to:"/feeling_lucky",children:"I'm Feeling Lucky"}),Object(h.jsx)(b.b,{to:"/search",children:"Search Poems"})]}),Object(h.jsxs)("section",{className:Je.a.SecondMiddleSection,children:[Object(h.jsx)("div",{className:Je.a.SectionName,children:"Poems"}),Object(h.jsx)(b.b,{to:"/",children:"All Poems"}),Object(h.jsx)(b.b,{to:"/",children:"Poem By Language"}),Object(h.jsx)(b.b,{to:"/",children:"Explore All Poets"}),Object(h.jsx)(b.b,{to:"/",children:"Competitions"})]}),Object(h.jsxs)("section",{className:Je.a.SecondMiddleSection,children:[Object(h.jsx)("div",{className:Je.a.SectionName,children:"General"}),Object(h.jsx)(b.b,{to:"/",children:"Donate"}),Object(h.jsx)(b.b,{to:"/",children:"About Us"}),Object(h.jsx)(b.b,{to:"/",children:"Licensing"}),Object(h.jsx)(b.b,{to:"/",children:"Legal"})]})]}),Object(h.jsxs)("div",{className:Je.a.Attribution,children:["Rebbel Poetry (Pty) Ltd. Copyright \xa9 ",(new Date).getFullYear(),". All right reserved."]})]})},$e=n(6),et=n(90),tt=n.n(et),nt=function(){var e=O().setUserSession,t=Object(j.g)();Object(o.useEffect)((function(){document.title=["Rebbel Poetry","Create an account"].join(": ")}),[]);var n=Object(o.useState)({email_address:"",display_name:"",password:""}),a=Object(m.a)(n,2),s=a[0],i=a[1],c=Object(o.useState)(""),r=Object(m.a)(c,2),l=r[0],d=r[1],u=function(e){e.target.name&&i(Object(L.a)(Object(L.a)({},s),{},Object($e.a)({},e.target.name,e.target.value)))};return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:"page-container",children:Object(h.jsxs)("form",{onSubmit:function(n){n.preventDefault(),d(""),s.email_address&&s.display_name&&s.password?F.post([R.BACKEND,"rebbels"].join("/")).send(s).end((function(n,o){o?200===o.statusCode?(V("AUTH_TOKEN",o.body.data.token),e(o.body.data),t.push("/")):208===o.statusCode&&d("Account with that email address already exists. Please sign in if this is your account."):d("You are not connected to the internet. Please check your connection and try again.")})):d("All fields are mandatory, please make sure you fill every field to create an account.")},className:"form",children:[Object(h.jsx)("h1",{children:"Join Rebbels"}),l?Object(h.jsxs)("p",{className:[tt.a.ResponseError,"danger"].join(" "),children:[" ",Object(h.jsx)("b",{children:l})," "]}):"",Object(h.jsx)("input",{type:"text",placeholder:"Email address",name:"email_address",onKeyUp:u}),Object(h.jsx)("input",{type:"text",placeholder:"Your name",name:"display_name",onKeyUp:u}),Object(h.jsx)("input",{type:"password",placeholder:"Enter a password",name:"password",onKeyUp:u}),Object(h.jsx)("button",{type:"submit",children:"Become a Member"}),Object(h.jsxs)("p",{children:["We are glad to have you onboard, by creating an account you agree to our ",Object(h.jsx)(b.b,{to:"",children:"Terms and Conditions"}),". If you are already a member you can ",Object(h.jsx)(b.b,{to:"/sign_in",children:"Sign in to your account."})]})]})})})},ot=function(){var e=a.a.useState(""),t=Object(m.a)(e,2),n=t[0],o=t[1],s=O().setUserSession,i=q().setUserToken,c=ee().setIsLoaderVisible,r=a.a.useState({username:"",password:""}),l=Object(m.a)(r,2),d=l[0],u=l[1],p=Object(j.g)(),f=function(e){e.target.name&&u(Object(L.a)(Object(L.a)({},d),{},Object($e.a)({},e.target.name,e.target.value)))};return Object(h.jsx)(a.a.Fragment,{children:Object(h.jsx)("div",{className:"page-container",children:Object(h.jsxs)("form",{action:"",className:"form",onSubmit:function(e){if(e.preventDefault(),o(""),d.username&&d.password){var t=["Basic",btoa([d.username,d.password].join(":"))].join(" ");F.get([R.BACKEND,"rebbels/authentication"].join("/")).set("Authorization",t).end((function(e,t){t?200===t.statusCode?(V("AUTH_TOKEN",t.body.data.token),s(t.body.data),i(t.body.data.token),p.push("/discover")):o(t.body.reason||"Something went wrong. Please try again, contact us if error persists."):o("No internet, please check your connection and try again.")}))}else o("All fields are required. Please make sure they are all filled.");c(!1)},children:[Object(h.jsx)("h1",{children:"Login"}),n&&Object(h.jsx)("p",{className:"danger",children:n}),Object(h.jsx)("input",{type:"text",placeholder:"Your email or username",name:"username",onKeyUp:f}),Object(h.jsx)("input",{type:"password",placeholder:"Password",name:"password",onKeyUp:f}),Object(h.jsx)("button",{children:"Sign In to your Account"}),Object(h.jsxs)("p",{children:["By signing in you agree to out"," ",Object(h.jsx)(b.b,{to:"",children:"Terms and Conditions"}),". If you don't have an account you can ",Object(h.jsx)(b.b,{to:"/sign_up",children:"create one here."})]})]})})})},at=(n(178),function(){var e=a.a.useState([]),t=Object(m.a)(e,2),n=t[0],o=t[1],s=ie().showToast,i=q();return a.a.useEffect((function(){F.get([R.BACKEND,"drafts"].join("/")).set("Authorization",i.userToken).end((function(e,t){t?200===t.status?o(t.body.data):s(t.reason||"Something went wrong."):(s("You are not connected to the internet."),o(null))}))}),[]),Object(h.jsxs)("div",{className:"page-container","data-testid":"DraftsPage",children:[null===n&&Object(h.jsx)("div",{children:Object(h.jsxs)("section",{children:[Object(h.jsx)("h1",{children:"Something happened while retrieving your drafts."}),Object(h.jsx)("p",{children:"If this error persists, please contact us and let us know about the issue."})]})}),null!==n&&Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"All Your Drafts"}),Object(h.jsx)(M,{feed:n,isDrafts:!0})]})]})}),st=(n(179),function(){var e=Object(j.g)(),t=ie().showToast,n=a.a.useState(!1),o=Object(m.a)(n,2),s=o[0],i=o[1];return a.a.useEffect((function(){F.get([R.BACKEND,"poems","feeling_lucky"].join("/")).end((function(n,o){o?200===o.status?e.push(["/~",o.body.data._id.toUpperCase()].join("")):(t(o.body.reason||"Something went wrong."),i(!0)):(t("You're are not connected to the internet."),i(!0))}))}),[]),Object(h.jsxs)("div",{className:"page-container",children:[s&&Object(h.jsx)("div",{children:Object(h.jsxs)("section",{children:[Object(h.jsx)("h1",{children:"Something happened while retrieving a random poem."}),Object(h.jsx)("p",{children:"If this error persists, please contact us and let us know about the issue."})]})}),!s&&Object(h.jsx)("div",{children:Object(h.jsxs)("section",{style:{textAlign:"center"},children:[Object(h.jsx)("h1",{style:{marginBottom:"20px"},children:"Let's spoil up!"}),Object(h.jsx)(J,{})]})})]})}),it=(n(180),function(e){var t=e.children,n=O().setUserSession,o=ee().setIsLoaderVisible,s=Object(j.g)(),i=q().userToken;return a.a.useEffect((function(){i&&(o(!0),F.get([R.BACKEND,"rebbels","reauthenticate"].join("/")).set("Authorization",i).end((function(e,t){o(!1),t&&(200===t.statusCode?n(t.body.data):(404===t.statusCode?console.log("Not found."):403===t.statusCode?console.log("Unauthorized."):510===t.statusCode?console.log("Session expired."):console.log("Something went wrong."),Y("AUTH_TOKEN"),console.log("Restart."),s.push("/sign_in")))})))}),[]),Object(h.jsx)(h.Fragment,{children:t})}),ct=n(28),rt=n.n(ct),lt=n(91),dt=n(29),ut=n.n(dt),jt=function(e){var t=e.data,n=(e.token,e.isPublished),o=q().userToken,s=ee(),i=s.isLoaderVisible,c=s.setIsLoaderVisible,r=a.a.useState(0),l=Object(m.a)(r,2),d=(l[0],l[1]),u=a.a.createRef(),j=a.a.createRef(),b=a.a.useState(-1),p=Object(m.a)(b,2),f=p[0],O=p[1];return a.a.useState((function(){window.addEventListener("resize",(function(){var e=document.getElementById("draft-container");e&&d(e.innerWidth),console.log(e)}))}),[]),Object(h.jsxs)("div",{className:ut.a.DraftPreview,id:"draft-container",onScroll:function(e){console.log(e)},children:[Object(h.jsxs)("div",{className:ut.a.DraftTitle,children:[t.title||"No title entered yet."," (preview)"]}),Object(h.jsxs)("div",{className:ut.a.DraftSplitSides,children:[Object(h.jsx)("div",{className:ut.a.DraftContents,children:Object(h.jsx)("p",{className:ut.a.DraftAnnotationsText,style:{whiteSpace:"pre-wrap"},children:function(e){if(e){for(var t=e.split("|"),n=[],o=function(e){if(console.log(t[e]),t[e].includes("=")){var o=t[e].split("="),a=o[0],s=o[1];console.log(a,s),n.push(Object(h.jsx)("a",{onClick:function(t){!function(e,t){j.current&&(j.current.innerText=e)}(s),O(e)},"data-index":e,"data-isactive":e===f,children:a}))}else n.push(Object(h.jsx)("span",{children:t[e]}))},a=0;a<t.length;a++)o(a);return n}return Object(h.jsx)("span",{children:"Loading..."})}(t.body)||"Click on an annotation to read it's description"})}),Object(h.jsx)("div",{className:ut.a.DraftAnnotations,children:Object(h.jsx)("div",{className:ut.a.DraftAnnotationsText,ref:j,children:"Click on an annotation to read it's description"})})]}),Object(h.jsxs)("div",{className:ut.a.BottomButtons,children:[Object(h.jsx)("input",{placeholder:"Comma seperated Tags, eg. Love, Teenagers, Fun",ref:u}),Object(h.jsx)("button",{disabled:i,className:"primary",onClick:function(){c(!0),H.publish(t,u.current.value,o).then((function(e){c(!1),n(e.toUpperCase())}))},children:"Publish Poem"})]})]})};var bt=function(){var e=q().userToken,t=ee().setIsLoaderVisible,n=ie().showToast,o=a.a.useState(!1),s=Object(m.a)(o,2),i=s[0],c=s[1],r=Object(j.g)(),l=a.a.useState({did:"",title:"",body:"",thumbnail:"",tags:[],featured_poets:[],is_anonymous:!1,time_created:(new Date).toISOString(),is_created:!1}),d=Object(m.a)(l,2),p=d[0],f=d[1],O=a.a.useState(null),x=Object(m.a)(O,2),_=(x[0],x[1],a.a.createRef());a.a.useState((function(){document.title=["Rebbel Poetry","New Poem"].join(": ");var t=fe.a.parse(r.location.search,{ignoreQueryPrefix:!0}),n=Object(lt.a)().toUpperCase();t.draft_id?(f(Object(L.a)(Object(L.a)({},p),{},{did:t.draft_id})),H.getDraft(t.draft_id,e).then((function(e){console.log("Found draft:",e),f({did:t.draft_id,thumbnail:e.thumbnail,title:e.title,body:e.body,featured_poets:e.featured_poets,time_created:e.time_created.toString(),is_anonymous:e.is_anonymous,is_created:!0})})).catch((function(e){return console.log(e)}))):(f(Object(L.a)(Object(L.a)({},p),{},{did:n})),r.push([r.location.pathname,"?draft_id=",n].join("")))}),[]);var v=function(e){var t={name:e.target.name,value:e.target.value};f(Object(L.a)(Object(L.a)({},p),{},Object($e.a)({},t.name,t.value))),"title"===e.target.name&&(_.current.style.height=_.current.scrollHeight+"px")},g=a.a.useRef();return a.a.useEffect((function(){}),[]),Object(h.jsxs)("div",{className:rt.a.PageContainer,children:[Object(h.jsx)(ge.a,{isOpen:i,onRequestClose:function(){return c(!1)},style:{overlay:{zIndex:6e4},content:{width:"80%",margin:"auto",borderRadius:"0px",border:"3px solid black"}},children:Object(h.jsx)(jt,{data:p,isPublished:function(e){c(!1),r.push(["/~",e].join(""))},token:e})}),Object(h.jsxs)("div",{className:rt.a.NewPoemHeaderContainer,style:{backgroundImage:"url(".concat(p.thumbnail,")")},children:[Object(h.jsxs)("div",{className:rt.a.NewPoemImageContainer,children:[Object(h.jsx)("input",{type:"file",ref:g,onChange:function(){if(g.current.files.length){var t=new FileReader;t.onloadend=function(){return f(Object(L.a)(Object(L.a)({},p),{},{thumbnail:t.result}))},t.readAsDataURL(g.current.files[0]),H.uploadThumbnail(g.current.files[0],e).then((function(t){f(Object(L.a)(Object(L.a)({},p),{},{thumbnail:t.large})),H.updateDraft(p,e)}))}},accept:"image/png, image/jpg, image/jpeg, image/gif, image/webp, image/bmp",hidden:!0}),Object(h.jsx)("div",{className:rt.a.NewPoemImageSelector,onClick:function(){return g.current.click()},style:{backgroundImage:"url(".concat(p.thumbnail,")")},children:Object(h.jsx)(u.a,{name:"add-sharp"})})]}),Object(h.jsxs)("div",{className:rt.a.NewPoemDetails,children:[Object(h.jsx)("textarea",{className:rt.a.NewPoemTitle,autoFocus:!0,name:"title",rows:p.title.split("\n").length,value:p.title,ref:_,onChange:v,placeholder:"Poem title"}),Object(h.jsxs)("span",{children:["Currently syncing edits to"," ",Object(h.jsxs)("a",{href:"/your_drafts",target:"_blank",referrerPolicy:"no-referrer",children:["Draft (",p.did,")"]}),"."]}),Object(h.jsx)("table",{className:rt.a.PoemMetadataItems,children:Object(h.jsxs)("tbody",{children:[Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"Written by"}),Object(h.jsx)("td",{children:Object(h.jsx)("span",{className:"link",onClick:function(){return f(Object(L.a)(Object(L.a)({},p),{},{is_anonymous:!p.is_anonymous}))},children:p.is_anonymous?"Anonymous":"Yourself"})})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"Features"}),Object(h.jsx)("td",{children:Object(h.jsx)(b.b,{children:"Add a rebbel"})})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"Created on"}),Object(h.jsx)("td",{children:Object(h.jsx)(b.b,{children:p.time_created})})]})]})}),Object(h.jsx)("br",{}),Object(h.jsxs)("div",{className:"flex",children:[Object(h.jsx)("button",{onClick:function(){t(!0),H.updateDraft(p,e).then((function(){n("Draft saved."),t(!1)})).catch((function(){return t(!1)}))},children:"Save Draft"}),Object(h.jsx)("button",{className:"outline",onClick:function(){t(!0),H.updateDraft(p,e).then((function(){t(!1),c(!0)})).catch((function(e){console.log("Error something went wrong."),t(!1)}))},children:"Preview and Publish"})]})]})]}),Object(h.jsx)("div",{className:rt.a.NewPoemContentsContainer,children:Object(h.jsx)("textarea",{placeholder:"Type your poem body here...",rows:p.body.split("\n").length,name:"body",onChange:v,value:p.body})})]})};var mt=function(){var e=O().userSession;return Object(h.jsx)(a.a.Fragment,{children:Object(h.jsx)(se,{children:Object(h.jsx)(W,{children:Object(h.jsx)(f,{children:Object(h.jsx)(_,{children:Object(h.jsx)($,{children:Object(h.jsx)(b.a,{children:Object(h.jsxs)(it,{children:[Object(h.jsx)(N,{}),Object(h.jsxs)(j.d,{children:[Object(h.jsx)(j.b,{path:"/new_poem",children:Object(h.jsx)(bt,{userSession:e})}),Object(h.jsx)(j.b,{exact:!0,path:"/",children:Object(h.jsx)(j.a,{to:"/discover"})}),Object(h.jsx)(j.b,{path:"/discover",children:Object(h.jsx)(ce,{})}),Object(h.jsx)(j.b,{exact:!0,path:"/rebbels",children:Object(h.jsx)(Oe,{})}),Object(h.jsx)(j.b,{path:"/rebbels/@:poet",children:Object(h.jsx)(Ce,{})}),Object(h.jsx)(j.b,{path:"/your_drafts",children:Object(h.jsx)(at,{})}),Object(h.jsx)(j.b,{path:"/feeling_lucky",children:Object(h.jsx)(st,{})}),Object(h.jsx)(j.b,{path:"/~:poemId",children:Object(h.jsx)(Ge,{})}),Object(h.jsx)(j.b,{path:"/search",children:Object(h.jsx)(Qe,{})}),Object(h.jsx)(j.b,{path:"/sign_up",children:Object(h.jsx)(nt,{})}),Object(h.jsx)(j.b,{path:"/sign_in",children:Object(h.jsx)(ot,{})}),Object(h.jsx)(j.b,{path:"*",children:Object(h.jsx)(de,{})}),Object(h.jsx)(j.b,{path:"/not_found",children:Object(h.jsx)(de,{})})]}),Object(h.jsx)(Xe,{})]})})})})})})})})},ht=(n(181),function(e){e&&e instanceof Function&&Promise.resolve().then(n.bind(null,181)).then((function(t){var n=t.getCLS,o=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),o(e),a(e),s(e),i(e)}))});i.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(mt,{})}),document.getElementById("root")),ht()},21:function(e,t,n){e.exports={FooterContainer:"Footer_FooterContainer__3om6w",Footer:"Footer_Footer__37hEc",BrandName:"Footer_BrandName__3Ln1q",Legal:"Footer_Legal__1pCYr",LeftSection:"Footer_LeftSection__cesUv",SectionName:"Footer_SectionName__21QzB",Attribution:"Footer_Attribution__12EnI"}},25:function(e,t,n){e.exports={PoemPageHeader:"PoemPageHeader_PoemPageHeader__1YcZt",BackgroundDiffuser:"PoemPageHeader_BackgroundDiffuser__1lEzy",PoemInformationContainer:"PoemPageHeader_PoemInformationContainer__2l3Cz",PoemThumbnailImage:"PoemPageHeader_PoemThumbnailImage__ne5WI",PoemDetailsContainer:"PoemPageHeader_PoemDetailsContainer__10FpI",PoemTitle:"PoemPageHeader_PoemTitle__29a6A",PoemDescription:"PoemPageHeader_PoemDescription__1S9Wg",PoemMetadataItems:"PoemPageHeader_PoemMetadataItems__1Vaym"}},26:function(e,t,n){e.exports={Poem:"Poem_Poem__LY0gH",PoemThumbnail:"Poem_PoemThumbnail__3QKkQ",PoemReadTime:"Poem_PoemReadTime__1_-w2",PoemTitle:"Poem_PoemTitle__12qQa"}},27:function(e,t,n){e.exports={Comment:"Comment_Comment__3FepX",CommentBody:"Comment_CommentBody__25PvU",Like:"Comment_Like__3O-MK",Flag:"Comment_Flag__3jENy",CommentorNameDate:"Comment_CommentorNameDate__16FBL",CommentActions:"Comment_CommentActions__331Ow",CommentActionButtons:"Comment_CommentActionButtons__1ajaQ",CommentMoreActions:"Comment_CommentMoreActions__1c0ex"}},28:function(e,t,n){e.exports={NewPoemHeaderContainer:"NewPoem_NewPoemHeaderContainer__t4L9L",link:"NewPoem_link__1Bamm",NewPoemImageSelector:"NewPoem_NewPoemImageSelector__2Gq2Z",NewPoemDetails:"NewPoem_NewPoemDetails__Kwqin",NewPoemTitle:"NewPoem_NewPoemTitle__pxTax",NewPoemContentsContainer:"NewPoem_NewPoemContentsContainer__1ebla"}},29:function(e,t,n){e.exports={DraftPreview:"DraftPreview_DraftPreview__yNm0A",DraftTitle:"DraftPreview_DraftTitle__3RCXC",DraftSplitSides:"DraftPreview_DraftSplitSides__1j1y-",DraftContents:"DraftPreview_DraftContents__1rRku",DraftAnnotations:"DraftPreview_DraftAnnotations__1vh4N",DraftAnnotationsText:"DraftPreview_DraftAnnotationsText__1OjU6",BottomButtons:"DraftPreview_BottomButtons__19wR1"}},32:function(e,t,n){e.exports={DropdownLinkItems:"AccountDropdownOptions_DropdownLinkItems__2GaYE",DropdownItemsHeader:"AccountDropdownOptions_DropdownItemsHeader__FjO-k",SignOut:"AccountDropdownOptions_SignOut__fv22i",RebbelStatus:"AccountDropdownOptions_RebbelStatus__8MkN8",RebbelName:"AccountDropdownOptions_RebbelName__3k-xl",HeaderSectionName:"AccountDropdownOptions_HeaderSectionName__2pNMS"}},33:function(e,t,n){e.exports={PoemInputContainer:"PoemPostInput_PoemInputContainer__1qw88",PoemInputTitle:"PoemPostInput_PoemInputTitle__2oLmn",PoemInput:"PoemPostInput_PoemInput__3YoN7",PoemTagsInput:"PoemPostInput_PoemTagsInput__26EWh",Buttons:"PoemPostInput_Buttons__3AFZM"}},43:function(e,t,n){e.exports={flex:"Header_flex__1xcfe","space-between":"Header_space-between__u85w8","flex-space":"Header_flex-space__ye-2W",clickable:"Header_clickable__191kM",Banner:"Header_Banner__1GWR_",HeaderContainer:"Header_HeaderContainer__F-Ur3",Header:"Header_Header__2C_Ub",NavigationLinks:"Header_NavigationLinks__-AflA",HeaderBrandLogo:"Header_HeaderBrandLogo__2PZZA"}},44:function(e,t,n){e.exports={PageTitle:"SearchPage_PageTitle__3czwG",SearchInputContainer:"SearchPage_SearchInputContainer__1ixej",LargeSearchInput:"SearchPage_LargeSearchInput__2nEZh",SearchButton:"SearchPage_SearchButton__3x0_t",Rebbels:"SearchPage_Rebbels__2r-5-"}},50:function(e,t,n){e.exports={Loader:"Loader_Loader__3w7V8",FirstCircle:"Loader_FirstCircle__1fzNt",FirstCircleBlink:"Loader_FirstCircleBlink__1qLd-",SecondCircle:"Loader_SecondCircle__YfdMW",SecondCircleBlink:"Loader_SecondCircleBlink__1a2nU",BlendGroup:"Loader_BlendGroup__1AEZI"}},58:function(e,t,n){e.exports={Poet:"Poet_Poet__1iqH7",PoetAvatar:"Poet_PoetAvatar__Qvcdq",PoetName:"Poet_PoetName__1MMec"}},59:function(e,t,n){e.exports={PoemShareContents:"PoemShareContents_PoemShareContents__20LFa",ShareLinkInput:"PoemShareContents_ShareLinkInput__1sKku",SocialMediaShare:"PoemShareContents_SocialMediaShare__7pT3x"}},70:function(e,t,n){e.exports={Toast:"Toast_Toast__1az6l",CloseButton:"Toast_CloseButton__Gj3ID"}},71:function(e,t,n){e.exports={PreviewAvatar:"PreviewAvatar_PreviewAvatar__1v5vc",PreviewDisplayName:"PreviewAvatar_PreviewDisplayName__1thK8"}},72:function(e,t,n){e.exports={CommentsSection:"CommentsSection_CommentsSection__387ir",PostCommentField:"CommentsSection_PostCommentField__3F0OP"}},83:function(e,t,n){e.exports={PoemsGrid:"PoemsList_PoemsGrid__DvbAG"}},84:function(e,t,n){e.exports={NotFoundPage:"NotFoundPage_NotFoundPage__2pL1I"}},85:function(e,t,n){e.exports={Poets:"PoetsPage_Poets__39bvA"}},90:function(e,t,n){},98:function(e,t,n){}},[[182,1,2]]]);
//# sourceMappingURL=main.4667997c.chunk.js.map